/**
 * WOGAA.js
 * Version: 1.0.4-g2343951
 */
!function(){"use strict";var e,t=function(){return t=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},t.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError,function(e){e.StartTS="START_TS",e.CompleteTS="COMPLETE_TS",e.TrackStructuredEvent="TRACK_STRUCTURED_EVENT",e.SetUserId="SET_USER_ID",e.SetIdentity="SET_IDENTITY",e.SearchSgSearchEvent="SEARCHSG_SEARCH_EVENT",e.SearchSgDisplayEvent="SEARCHSG_DISPLAY_EVENT",e.SearchSgClickEvent="SEARCHSG_CLICK_EVENT",e.SearchSgRateEvent="SEARCHSG_RATE_EVENT",e.SearchSgSessionInitEvent="SEARCHSG_SESSION_INIT_EVENT",e.TrackCustomEvent="TRACK_CUSTOM_EVENT"}(e||(e={}));window.wogaaLayer=window.wogaaLayer||[],window.wogaaCustom=window.wogaaCustom||{};var n="Wogaa:js",o="wogaa.logger.debug",a=window.wogaaLayer,r="",i=function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];try{var r=window.localStorage.getItem(o);r&&"true"===r&&console.log.apply(console,function(e,t,n){if(n||2===arguments.length)for(var o,a=0,r=t.length;a<r;a++)!o&&a in t||(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))}(["🍭 | ".concat(e," |"),t],n,!1))}catch(e){console.error("Unable get local storage",e)}},c={SearchSG:{searchsg_search:function(t){i(n,"SearchSG","triggered search event"),a.push({type:e.SearchSgSearchEvent,payload:t})},searchsg_display:function(t){i(n,"SearchSG","triggered display event."),a.push({type:e.SearchSgDisplayEvent,payload:t})},searchsg_click:function(t){i(n,"SearchSG","triggered clicked event."),a.push({type:e.SearchSgClickEvent,payload:t})},searchsg_rate:function(t){i(n,"SearchSG","triggered rated feedback event."),a.push({type:e.SearchSgRateEvent,payload:t})},searchsg_session_init:function(t){i(n,"SearchSG","triggered session init event."),a.push({type:e.SearchSgSessionInitEvent,payload:t})}}};window.wogaaCustom=t(t({},window.wogaaCustom),{addMeta:function(e){"object"==typeof e&&null!==e&&(window.digitalData=t(t(t({},window.digitalData),{agencyTxnId:null}),e))},completeTransactionalService:function(e,t){void 0===t&&(t={}),i(n,"triggered event complete transactional service",{trackingId:e}),a.push({type:"COMPLETE_TS",payload:{trackingId:e,options:t}})},customContext:function(e,t,n){return c[e][t](n)},getDomainUserId:function(){var e=new RegExp("_sp_id\\.[a-f0-9]+=([^;]+);?"),t=document.cookie.match(e);return!(!t||!t[1])&&t[1].split(".")[0]},getSessionUserId:function(){try{var e=new RegExp("_sp_id\\.[a-f0-9]+=([^;]+);?"),t=document.cookie.match(e);return!(!t||!t[1])&&t[1].split(".")[5]}catch(e){console.error("Unable getting snowplow session id",e)}},log:i,setDebug:function(e){try{window.localStorage.setItem(o,e.toString().toLowerCase())}catch(e){console.error("Unable get local storage",e)}},setIdentity:function(e){i(n,"triggered event set Snowplow identity context."),r=e.id,a.push({type:"SET_IDENTITY",payload:{id:e.id}})},getIdentity:function(){return r},showSentimentsForIS:function(){i(n,"triggered event show sentiments for IS"),a.push({type:"OPEN_IS_SENTIMENTS"})},showSentimentsForTS:function(e,t){var o=(void 0===t?{uniqueTransactionId:null}:t).uniqueTransactionId;i(n,"triggered event show sentiments for TS"),a.push({type:"COMPLETE_TS",payload:{uniqueTransactionId:o,trackingId:e}})},startTransactionalService:function(e,t){void 0===t&&(t={}),i(n,"triggered event start transactional service",{trackingId:e}),a.push({type:"START_TS",payload:{trackingId:e,options:t}})},trackEvent:function(e,t,o,r,c){var s={category:e,action:t,label:o,property:r,value:c};i(n,"triggered track event",{payload:s}),a.push({type:"TRACK_STRUCTURED_EVENT",payload:s})},trackCustomEvent:function(e,t,o,r,c,s,l,p){i(n,"triggered event set Snowplow identity context.");var d={category:e,action:t,label:o,property:r,value:c,project:s,projectVersion:l,jsonContent:p};a.push({type:"TRACK_CUSTOM_EVENT",payload:d})},wogaaJSVersion:"1.0.4-g2343951"});var s,l,p,d,u,S,g,h,w=window.location.href,E=function(e){var t;return"function"==typeof Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),t},v=function(e,t){var n,o=this;return void 0===t&&(t=0),function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];clearTimeout(n),n=setTimeout((function(){e.apply(o,a)}),t)}}((function(){var e=window.location.href;w!==e&&window.dispatchEvent(E("locationchange")),w=e}),0),y=function(e,t,n){var o=e[t];e[t]=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];var r=o.apply(this,e);return window.dispatchEvent(E(t)),n.apply(this,e),r}};(s=function(){var e=window.history;e&&"pushState"in e&&y(e,"pushState",v),e&&"replaceState"in e&&y(e,"replaceState",v),window.addEventListener("popstate",v),window.addEventListener("hashchange",v);var t,n,o,a=function(){try{return window.location.href.split("?")[0]}catch(e){return console.error(e),""}}();t="https://assets.wogaa.sg/scripts/wogaa.js?url="+encodeURIComponent(a),n=document.head||document.getElementsByTagName("head")[0],(o=document.createElement("script")).async=!0,o.src=t,n.appendChild(o)},l=!1,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return l?void 0:(l=!0,s.apply(this,e))})(),p=window,d=document,u="script",p[S="wogaa_snowplow"]||(p.GlobalSnowplowNamespace=p.GlobalSnowplowNamespace||[],p.GlobalSnowplowNamespace.push(S),p[S]=function(){(p[S].q=p[S].q||[]).push(arguments)},p[S].q=p[S].q||[],g=d.createElement(u),h=d.getElementsByTagName(u)[0],g.async=1,g.src="https://assets.wogaa.sg/snowplow/3.13.1/sp.js",h.parentNode.insertBefore(g,h))}();