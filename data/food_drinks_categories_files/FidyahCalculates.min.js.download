function calculateSummary(){haid=Number($("#haid .totalfidyah").val()),illness=Number($("#illness .totalfidyah").val()),pregnant=Number($("#pregnant .totalfidyah").val()),$(".totalHaid span").text(haid),$(".totalIllness span").text(illness),$(".totalPregnant span").text(pregnant),thaid=Number($("#haid .totalQadha").val()),tpregnant=Number($("#pregnant .totalQadha").val()),$(".totalSummary span").text((haid+illness+pregnant).toFixed(2)),$(".totalQada span").text(thaid+tpregnant),$(".yearHaid").text($("#haid .year").val()),$(".yearIllness").text($("#illness .year").val()),$(".yearPregnant").text($("#pregnant .year").val())}var fidyahPerDay=1.40;$("input.fidyahPerDay").val(fidyahPerDay.toFixed(2));var theDate=new Date;$("input.year").val(theDate.getFullYear()),$("a.btnAdd").click(function(a){a.preventDefault();var t=$(this).parents("table");console.log(t.attr("id"));var e=$("tr.fields:first",t),n=$("tr.fields:last",t);$(e).clone().insertAfter(n),$("tr.fields:last input",t).val("")}),$(document).on("blur",".year",function(){var a=$(this).parents(".tbl").parent();if("illness"!=a.attr("id")){var t=$(this).val(),e=0,n=0;$(".fidyahTable tbody tr.fields").each(function(){var l=$(this),r=$(".noOfDays",l).val(),i=$(".yearNotFasting",l).val();"haid"==a.attr("id")&&$(".quantityPerDay",l).val((t-i)*r),"pregnant"==a.attr("id")&&$(".quantityPerDay",l).val((t-i)*r),$(".fidyahAmount",l).val((parseInt($(".quantityPerDay",l).val())*fidyahPerDay).toFixed(2)),e+=Number($(".fidyahAmount",l).val()),n+="NaN"==parseInt($(".noOfDays",this).val()).toString()?0:parseInt($(".noOfDays",this).val()),$(".totalQadha",a).val(n),$(".totalfidyah",a).val(e.toFixed(2))}),calculateSummary()}}),$(document).on("blur",".noOfDays, .yearNotFasting",function(){var a=$(this).parents("tr.fields").parent().parent().parent(),t=$(this).parents("tr.fields"),e=$(".noOfDays",t).val();""==e&&(e=0);var n=$(".year",a).val(),l=$(".yearNotFasting",t).val();"haid"==a.attr("id")&&$(".quantityPerDay",t).val((n-l)*e),"pregnant"==a.attr("id")&&$(".quantityPerDay",t).val((n-l)*e),"illness"==a.attr("id")&&$(".quantityPerDay",t).val(e),$(".fidyahAmount",t).val((parseInt($(".quantityPerDay",t).val())*fidyahPerDay).toFixed(2));var r=0,i=0;$(".fields",a).each(function(){r+=Number($(".fidyahAmount",this).val()),i+="NaN"==parseInt($(".noOfDays",this).val()).toString()?0:parseInt($(".noOfDays",this).val()),$(".totalQadha",a).val(i),$(".totalfidyah",a).val(r.toFixed(2))}),calculateSummary()});