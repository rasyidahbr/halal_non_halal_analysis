var isDatePicketLoaded=!1,searchParam={SearchText:"",HalalSelectedList:"",Page:"",PageSize:""},searchKhubatParam={GUID:"",Year:"",Page:"",PageSize:""},searchNisabParam={Month:"",Year:"",IsSavingBackdated:!1,IsMultipleShare:!1},searchWakafParam={Region:"",Page:"",PageSize:""};function getChildren(e,a){var t=a.value;window.location.href,$.ajax({url:window.location.href,type:"POST",context:this,data:{scController:"Search",scAction:"GetReferenceChildren",GUID:t},dataType:"json",success:function(a){if($(e).children("option").remove(),null!=a){var t="";t="<option selected disabled>--Select--</option>",$(e).append(t);for(var n=0;n<=a.length-1;n++)t="<option value = "+a[n].Href+" >"+a[n].NavigationTitle+" </option>",$(e).append(t)}},error:function(e){}})}function GetVersionYearsList(e,a){var t=a.value;window.location.href,$.ajax({url:window.location.href,type:"POST",context:this,data:{scController:"PageContent",scAction:"GetVersionYearsList",GUID:t},dataType:"json",success:function(a){if($(e).children("option").remove(),null!=a){for(var t=0;t<=a.length-1;t++){var n="<option value = "+a[t]+" >"+a[t]+" </option>";$(e).append(n)}$("select.dropdownKhubatYear").trigger("change")}},error:function(e){}})}function GetKhubatArticles(){$.ajax({url:window.location.href,type:"POST",context:this,data:{scController:"PageContent",scAction:"GetKhubatArticles",searchData:searchKhubatParam},success:function(e){$("#results").html(e),$("#results").show()},error:function(e){alert(e.responseText)}})}function GetKhubat(){searchKhubatParam.Year=$(".dropdownKhubatYear option:selected").val(),searchKhubatParam.GUID=$(".dropdownKhubatLanguage option:selected").val(),searchKhubatParam.PageSize=4,searchKhubatParam.Page&&0!==searchKhubatParam.Page.length||(searchKhubatParam.Page=1),GetKhubatArticles()}function openWindow(e){var a=e.options[e.selectedIndex].value;window.open(a,"newwindow")}function setSearchParam(){searchParam.SearchText=$("#txtHalalSearch").val(),searchParam.PageSize=$("#selectHalalPaging option:selected").val(),searchParam.HalalSelectedList=$("#drpHalal option:selected").val(),$("#selectHalalPaging").length?searchParam.PageSize=$("#selectHalalPaging option:selected").val():searchParam.PageSize=10}function GetSearchResult(){$.ajax({url:window.location.href,type:"POST",context:this,data:{scController:"Search",scAction:"GetHalalSearchResult",searchData:searchParam},success:function(e){$("#results").html(e),$("#results").show()},error:function(e){console.log("error "+window.location.href)}})}function GetPublicationThumbnail(){var e=$("#drpPublication option:selected").val();null!=e&&$.ajax({url:window.location.href,type:"POST",context:this,data:{scController:"Search",scAction:"GetPublicationThumbnail",GUID:e},success:function(e){$("#divPublication").html(e),$("#divPublication").show()},error:function(e){console.log("error "+window.location.href)}})}function GetSelectedPublication(e){var a=e.value;$.ajax({url:window.location.href,type:"POST",context:this,data:{scController:"Search",scAction:"GetSelectedPublication",GUID:a},success:function(e){e.redirectUrl&&(window.location.href=e.redirectUrl)},error:function(e){console.log("error "+window.location.href)}})}function GetSelectedMufti(e){var a=e.value;$.ajax({url:window.location.href,type:"POST",context:this,data:{scController:"Search",scAction:"GetSelectedMufti",GUID:a},success:function(e){e.redirectUrl&&(window.location.href=e.redirectUrl)},error:function(e){console.log("error "+window.location.href)}})}function GetResultPage(){var e=$("ul#searchPaging").find("li.active").data("value");setSearchParam(),searchParam.Page=e,GetSearchResult()}function getNisab(e,a,t,n){return searchNisabParam.Month=e,searchNisabParam.Year=a,searchNisabParam.IsSavingBackdated=t,searchNisabParam.IsMultipleShare=n,$.ajax({url:window.location.href,type:"POST",context:this,data:{scController:"Calculators",scAction:"CalculateZakat",searchData:searchNisabParam}})}function GetAllNisabValues(){$.ajax({url:window.location.href,type:"POST",context:this,data:{scController:"Calculators",scAction:"GetAllNisabValues"},success:function(e){},error:function(e){console.log("error "+window.location.href)}})}function InitializeDatePicker(){isDatePicketLoaded=!0,$("#txtHaul").datepicker({dateFormat:"dd-mm-yy",showOn:"button",buttonImage:"/images/zakat/calendar-icon.png",buttonImageOnly:!0,changeYear:!0,changeMonth:!0,yearRange:"1970:c"}),$("#txtHaul").on("change",(function(){var e=$("#txtHaul").datepicker("getDate");getNisab(e.getMonth()+1,e.getFullYear()).done((function(e){$("#lblNisab").text(e),$("#lblMktPrice").text(parseFloat(e/86).toFixed(2))}))}));var e=new Date,a=("0"+e.getDate().toString()).substr(-2)+"-"+("0"+(e.getMonth()+1).toString()).substr(-2)+"-"+e.getFullYear().toString();$("#txtHaul").val(a);var t=$("#txtHaul").datepicker("getDate");getNisab(t.getMonth()+1,t.getFullYear()).done((function(e){$("#lblNisab").text(e),$("#lblMktPrice").text(parseFloat(e/86).toFixed(2))})),$("#txtJWeight").keyup((function(e){isNaN($(this).val())&&($("#txtJWeight").val($("#txtJWeight").val().substring(0,$("#txtJWeight").val().length-1)),alert("Enter Numeric Values only"))}))}function disableEnter(){return 13!=event.keyCode}function checkIsNaN(){var e=document.getElementById(document.activeElement.id);isNaN($(e).val())&&($(e).val($(e).val().substring(0,$(e).val().length-1)),alert("Enter Numeric Values only"))}function isFieldEmpty(e){""==$(e).val()&&$(e).val("0")}function addCommas(e){x=(e+="").split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var a=/(\d+)(\d{3})/;a.test(x1);)x1=x1.replace(a,"$1,$2");return x1+x2}function GetSelectedGoldPage(){var e=$("#ddlSavingsGold");e=e.val(),$.ajax({url:window.location.href,type:"POST",context:this,data:{scController:"Calculators",scAction:"GetSelectedGoldPage",searchData:e},success:function(e){$("#goldSelected").html(e),InitializeDatePicker(),$("#goldSelected").show()},error:function(e){console.log("error "+window.location.href)}})}function GetSelectedBusinessPage(){var e=$("#ddlSavingsBusiness");e=e.val(),$.ajax({url:window.location.href,type:"POST",context:this,data:{scController:"Calculators",scAction:"GetSelectedBusinessPage",searchData:e},success:function(e){$("#businessSelected").html(e),InitializeDatePicker(),$("#businessSelected").show()},error:function(e){console.log("error "+window.location.href)}})}function GetSelectedSavingsPage(){var e=$("#ddlSavings");e=e.val(),$.ajax({url:window.location.href,type:"POST",context:this,data:{scController:"Calculators",scAction:"GetSelectedSavingsPage",searchData:e},success:function(a){$("#savingsSelected").html(a),"SingleAccount"===e?InitializeDatePicker():"MultipleAccount"===e?(InitializeSavingsMultiAccountDatePicker(),setupAccount()):"SingleAccountBackdated"===e&&(PopulateYears("ddlHSYear"),PopulateYears("ddlHEYear")),$("#savingsSelected").show()},error:function(e){console.log("error "+window.location.href)}})}function GetSelectedSharePage(){var e=$("#ddlShares");e=e.val(),$.ajax({url:window.location.href,type:"POST",context:this,data:{scController:"Calculators",scAction:"GetSelectedSharePage",searchData:e},success:function(a){$("#selectedShare").html(a),"SingleShare"==e?InitializeDatePicker():"MultipleShare"==e&&InitializeMultipleShare(),$("#selectedShare").show()},error:function(e){console.log("error "+window.location.href)}})}function PopulateYears(e){for(var a=(new Date).getFullYear();a>=1970;a--)$("#"+e).append("<option value='"+a+"'>"+a+"</option>")}function setWakafParam(){searchWakafParam.Region=$("#ddlWakifRegions option:selected").val(),searchWakafParam.PageSize=5,searchWakafParam.Page&&0!==searchWakafParam.Page.length||(searchWakafParam.Page=1)}function GetSelectedWakaf(){$("#selectedCluster").html($("#ddlWakifRegions option:selected").text()),$.ajax({url:window.location.href,type:"POST",context:this,data:{scController:"ResponsiveMap",scAction:"GetSelectedWakafCluster",searchData:searchWakafParam},success:function(e){$("#results").html(e),$("#results").show()},error:function(e){console.log(e.responseText)}})}$(document).ready((function(){if($("select.dropSearch").trigger("change"),$("select.dropdownKhubatLanguage").trigger("change"),$("select#ddlSavingsGold").val("GoldBar").trigger("change"),$("select#ddlShares").val("SingleShare").trigger("change"),$("select#ddlSavingsBusiness").val("SmallBusiness").trigger("change"),0==isDatePicketLoaded&&null!=document.getElementById("txtHaul")&&InitializeDatePicker(),GetPublicationThumbnail(),$("#gs-search-btn").on("click",(function(){console.log($("#new-search").val());var e=$("#new-search").val();""!==e&&window.open("https://cse.google.com/cse?cx=003458834176260139333:nyrtewic20e&q="+escape(e))})),$("#ddlWakifRegions").on("change",(function(e){setWakafParam(),searchWakafParam.Page=1,GetSelectedWakaf()})),"MosqueRegions"===$("#ddlWakifRegions").attr("region")?$("#ddlWakifRegions").val("eastcluster").trigger("change"):$("#ddlWakifRegions").val("southwestcluster").trigger("change"),$(document).ajaxStart((function(){$("#loading-indicator").show()})).ajaxStop((function(){$("#loading-indicator").hide()})),document.location.href.indexOf("#heading")>-1){var e=document.location.href.substr(document.location.href.indexOf("#"));$(e+" a").removeClass("collapsed");var a=$(e+" a").attr("href");$(a).addClass("in"),$("#headingOne a").addClass("collapsed"),$("#collapseOne").removeClass("in")}})),$(document).on("click",".pastNisabValues",(function(e){e.preventDefault(),GetAllNisabValues()})),$(document).on("click","#btnHalalSearch",(function(e){e.preventDefault(),setSearchParam(),GetSearchResult()})),$().ready((function(){$("body").on("click",".page-number",(function(){var e=$(this).attr("id");setSearchParam(),searchParam.Page=e,GetSearchResult()}))})),$().ready((function(){$("body").on("click",".page-number-khubat",(function(){var e=$(this).attr("id");GetKhubat(),searchKhubatParam.Page=e,GetKhubatArticles()})),$("body").on("click",".page-number-wakaf",(function(){var e=$(this).attr("id");setWakafParam(),searchWakafParam.Page=e,GetSelectedWakaf()}))})),document.onkeypress=disableEnter,$("#txtHalalSearch").keyup((function(e){13===e.keyCode&&$("#btnHalalSearch").click()})),$("#new-search").keyup((function(e){13===e.keyCode&&$("#gs-search-btn").click()}));